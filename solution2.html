<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Solution1</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="bg-light d-flex align-items-center h-100 pt-4">
      <div class="container">
        <div class="row justify-content-center mb-5">
          <h1>Решение #2</h1>
        </div>
        <div class="row mb-4">
          <div class="col">
            <p>
              Это приложение состоит из формы добавления и списка задач
              добавленных через форму. Каждая новая задача выводится первой в
              списке добавленных ранее задач.
            </p>
          </div>
        </div>
        <div class="row mb-4">
          <div class="col">
            <form class="form-inline mb-3">
              <input
                type="text"
                required="required"
                class="form-control mb-3"
                name="name"
              />
              <button type="submit" class="btn btn-primary">Добавить</button>
            </form>
            <ul id="tasks" class="list-group" aria-label="Tasks"></ul>
          </div>
        </div>
        <div class="row bg-white pt-3">
          <div class="col">
            <h3>Код javascript:</h3>
            <pre class="align-items-left">
            <code>
const render = (state, { form, input, tasksContainer }) => {
  form.reset();
  input.focus();
  const tasksElements = state.tasks.map((task) => {
    const el = document.createElement("li");
    el.classList.add("list-group-item");
    el.textContent = task.name;
    return el;
  });

  tasksContainer.replaceChildren(...tasksElements);
};

const app =  () => {
  const state = {
    tasks: [],
  };

  const form = document.querySelector("form");
  const input = document.querySelector("input");
  const tasksContainer = document.querySelector("#tasks");
  form.addEventListener("submit",  (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const data = {
      name: formData.get("name"),
    };
    state.tasks.unshift(data);

    render(state, { form, input, tasksContainer });
  });

  render(state, { form, input, tasksContainer });
};

app();
            </code>
          </pre>
          </div>
        </div>
      </div>
    </div>
    <script defer>
      const render = (state, { form, input, tasksContainer }) => {
        form.reset();
        input.focus();
        const tasksElements = state.tasks.map((task) => {
          const el = document.createElement("li");
          el.classList.add("list-group-item");
          el.textContent = task.name;
          return el;
        });

        tasksContainer.replaceChildren(...tasksElements);
      };

      const app =  () => {
        const state = {
          tasks: [],
        };

        const form = document.querySelector("form");
        const input = document.querySelector("input");
        const tasksContainer = document.querySelector("#tasks");
        form.addEventListener("submit",  (e) => {
          e.preventDefault();
          const formData = new FormData(e.target);
          const data = {
            name: formData.get("name"),
          };
          state.tasks.unshift(data);

          render(state, { form, input, tasksContainer });
        });

        render(state, { form, input, tasksContainer });
      };

      app();
    </script>
  </body>
</html>
